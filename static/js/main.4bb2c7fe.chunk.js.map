{"version":3,"sources":["assets/images/gallery_layout.jpg","assets/images/gallery_g3_layout.png","Popup.js","CodeBlock.js","HomePopup.js","../README.md","TryPopup.js","ImageUploadPopup.js","FormatPopup.js","App.js","serviceWorker.js","components/rect/index.jsx","Zoning.jsx","Samuel.js","Viewer.js","config/index.js","Home.jsx","modules/modelDetail/initCameraAndScene.js","modules/modelDetail/createFloor.js","modules/modelDetail/createControls.js","modules/modelDetail/createHightLight.js","modules/modelDetail/initModel.js","modules/modelDetail/index.js","store/index.js","ModelDetail.jsx","index.js","testPsyModal.jsx"],"names":["module","exports","styles","theme","root","margin","padding","spacing","closeButton","position","right","top","color","palette","grey","Popup","props","open","setOpen","title","innerContent","icon","closeText","onClose","transition","handleClose","descriptionElementRef","React","useRef","useEffect","current","descriptionElement","focus","DialogTitle","withStyles","children","classes","other","createElement","MuiDialogTitle","Object","assign","disableTypography","className","Typography","variant","IconButton","aria-label","onClick","CloseIcon","Dialog","scroll","aria-labelledby","aria-describedby","TransitionComponent","id","ListItem","ListItemIcon","ListItemText","primary","DialogContent","dividers","DialogActions","Button","CodeBlock","PureComponent","render","language","value","this","SyntaxHighlighter","style","docco","defaultProps","Transition","forwardRef","ref","Slide","direction","HomePopup","content","DialogContentText","ReactMarkdown","source","replace","renderers","code","InfoIcon","useStyles","makeStyles","display","alignItems","width","input","marginLeft","flex","iconButton","divider","height","baseStyle","flexDirection","borderWidth","borderRadius","borderColor","borderStyle","backgroundColor","outline","activeStyle","acceptStyle","rejectStyle","setFile","url","setUrl","useState","acceptedFiles","getRootProps","getInputProps","isDragActive","isDragAccept","isDragReject","useDropzone","onDrop","files","length","loadFile","useMemo","file","Paper","component","InputBase","placeholder","onChange","event","target","Divider","orientation","endIcon","GetAppIcon","type","OpenInBrowserIcon","scaleSize","setWidth","setHeight","depth","setDepth","radiusTop","setRadiusTop","radius","setRadius","radiusBottom","setRadiusBottom","radialSegments","setRadialSegments","heightSegments","setHeightSegments","widthSegments","setWidthSegments","thetaStart","setThetaStart","thetaLength","setThetaLength","Math","PI","sphereWidthSegments","setSphereWidthSegments","sphereHeightSegments","setSphereHeightSegments","shapeActive","setShapeActive","loadModelFile","console","log","imageUrl","URL","createObjectURL","textureLoader","THREE","exporter","GLTFExporter","load","texture","materials","map","geometry","parseFloat","scale","cube","parse","gltf","blob","Blob","JSON","stringify","saveAs","cylinderGeometry","cylinder","sphereGeometry","sphere","coneGeometry","cone","undefined","err","error","rectForm","Fragment","e","cylinderForm","circularForm","globeForm","FormLabel","RadioGroup","name","FormControlLabel","control","Radio","label","onSubmit","preventDefault","renderForm","accept","flexWrap","justifyContent","overflow","background","paper","gridList","header","marginBottom","tile","cursor","opacity","FormatPopup","_props$format","_props$format2","_props$format3","format","description","Link","href","OpenInNewIcon","fontSize","GridList","cellHeight","models","model","GridListTile","key","startsWith","window","location","onModelClick","src","thumbnail","GridListTileBar","subtitle","size","actionIcon","extension","grow","flexGrow","appBar","zIndex","drawer","transitions","create","easing","sharp","duration","leavingScreen","appBarShift","concat","enteringScreen","menuButton","marginRight","hide","flexShrink","whiteSpace","drawerOpen","drawerClose","overflowX","breakpoints","up","toolbar","sectionDesktop","sectionMobile","backdrop","Boolean","hostname","match","RectBox","_ref","checked","currentValue","left","includes","minHeight","unityContent","UnityContent","adjustOnWindowResize","textAlign","text","secondary","Viewer","ready","setReady","fileName","setFileName","on","onReady","onLoaded","onError","reader","FileReader","onload","filedata","result","send","readAsArrayBuffer","Unity","baseUrl","homeUrl","InitCameraAndScene","camera","innerWidth","innerHeight","set","lookAt","scene","fog","dirLight","intensity","castShadow","shadow","bottom","near","far","add","dirLightBack","axis","CreateFloor","mesh","depthWrite","rotation","x","receiveShadow","grid","material","transparent","CreateControls","renderer","antialias","setPixelRatio","devicePixelRatio","setSize","outputEncoding","shadowMap","enabled","container","appendChild","domElement","that","controls","OrbitControls","transformControls","TransformControls","addEventListener","trackballControls","TrackballControls","dragControls","DragControls","modelObject","enablePan","update","enableDamping","autoRotate","CreateHeightLight","composer","EffectComposer","renderPass","RenderPass","addPass","outlinePass","OutlinePass","visibleEdgeColor","parseInt","hiddenEdgeColor","outputPass","OutputPass","effectFXAA","ShaderPass","FXAAShader","uniforms","InitModel","paths","arguments","baseModals","modals","filter","item","forEach","GLTFLoader","glb","ModelDetail","constructor","modelPath","baseScene","resourcePath","panel","infoPanel","progress","getModalInfo","checkedModal","clock","modalType","world","initSceneCamera","createGround","webGLControls","heightLight","onWindowResize","bind","init","animate","setCheckedModal","aspect","updateProjectionMatrix","requestAnimationFrame","delta","getDelta","mixer","rotate","deg","rotateX","rotateY","rotateZ","exportModal","Floor","getObjectByName","remove","output","downloadJSON","data","filename","a","document","download","body","click","removeChild","revokeObjectURL","zoom","y","z","move","_ref2","translateX","translateY","translateZ","confirm","detach","clone","modal","parentGroup","c","checkedModalSlice","createSlice","initialState","reducers","setModal","state","action","payload","store","configureStore","reducer","checkedModalValue","Modal","ReactDOM","StrictMode","SnackbarProvider","maxSnack","anchorOrigin","vertical","horizontal","Provider","Router","Routes","Route","path","Component","useTheme","enqueueSnackbar","useSnackbar","homePopupOpened","sethomePopupOpened","localStorage","getItem","tryPopupOpened","setTryPopupOpened","imagePopupOpened","setImagePopupOpened","formatPopupOpened","setFormatPopupOpened","openedFormat","setOpenedFormat","router","useNavigate","shouldOpenDrawer","autoOpenDrawer","selectMenuIndex","setSelectMenuIndex","intoPage","showProgress","setShowProgress","useLocation","pathname","onCloseHomePopup","setItem","TryPopup","ImageUploadPopup","CssBaseline","AppBar","clsx","Toolbar","handleDrawerOpen","edge","MenuIcon","noWrap","aria-haspopup","GitHubIcon","onClickInfo","Drawer","handleDrawerClose","ChevronRightIcon","ChevronLeftIcon","List","button","data-key","selected","openImagePopup","handlePhotogrammetry","Outlet","HomePage","showSnackbar","message","elevation","Backdrop","CircularProgress","onViewerReady","onViewerLoaded","onViewerError","ZoningPage","checkedModel","setCheckedModel","checkedModelTwo","setCheckedModelTwo","checkedRect","isHave","findIndex","push","splice","checkedRectTwo","layoutPic","alt","confirmOne","str","join","marginTop","layoutG3Pic","confirmTwo","SamuelPage","maxWidth","border","ModelDetailPage","isExpand","setIsExpand","tagIndex","setTagIndex","modalNo","setModalNo","test","setTest","query","URLSearchParams","search","params","get","querySelector","split","_intersects$","mouse","raycaster","clientX","clientY","setFromCamera","intersectObjects","object","attach","visibility","expand","status","uploadModal","oInput","fileUrl","obj","xzForm","defaultValue","max","min","sfForm","step","ydForm","otherForm","animation","_e$target$attributes$","index","attributes","handleTag","data-index","oForm","FormData","degX","degY","degZ","reset","scaleX","scaleY","scaleZ","moveX","moveY","moveZ","handleModal","getElementById","navigator","serviceWorker","then","registration","unregister","catch"],"mappings":"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","file":"static/js/main.4bb2c7fe.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/gallery_layout.eb87d436.jpg\";","module.exports = __webpack_public_path__ + \"static/media/gallery_g3_layout.4d9fd64e.png\";","import React from 'react';\nimport Button from '@material-ui/core/Button';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport { withStyles } from '@material-ui/core/styles';\nimport MuiDialogTitle from '@material-ui/core/DialogTitle';\nimport IconButton from '@material-ui/core/IconButton';\nimport CloseIcon from '@material-ui/icons/Close';\nimport Typography from '@material-ui/core/Typography';\n\n\n\n\nconst styles = (theme) => ({\n    root: {\n        margin: 0,\n        padding: theme.spacing(2),\n    },\n    closeButton: {\n        position: 'absolute',\n        right: theme.spacing(1),\n        top: theme.spacing(1),\n        color: theme.palette.grey[500],\n    },\n});\n\nexport default function Popup(props) {\n    const { open, setOpen, title, innerContent, icon, closeText, onClose, transition } = props;\n\n    const handleClose = () => {\n        setOpen(false);\n        if(onClose)  onClose();\n    };\n\n    const descriptionElementRef = React.useRef(null);\n    React.useEffect(() => {\n        if (open) {\n            const { current: descriptionElement } = descriptionElementRef;\n            if (descriptionElement !== null) {\n                descriptionElement.focus();\n            }\n        }\n    }, [open]);\n\n    const DialogTitle = withStyles(styles)((props) => {\n        const { children, classes, onClose, ...other } = props;\n        return (\n            <MuiDialogTitle disableTypography className={classes.root} {...other}>\n                <Typography variant=\"h6\">{children}</Typography>\n                <IconButton aria-label=\"close\" className={classes.closeButton} onClick={onClose}>\n                    <CloseIcon />\n                </IconButton>\n            </MuiDialogTitle>\n        );\n    });\n\n\n    return (\n        <div>\n            <Dialog\n                open={open}\n                onClose={handleClose}\n                scroll=\"paper\"\n                aria-labelledby=\"scroll-dialog-title\"\n                aria-describedby=\"scroll-dialog-description\"\n                TransitionComponent={transition}\n            >\n                <DialogTitle\n                    id=\"scroll-dialog-title\"\n                    onClose={handleClose}\n                >\n                    <ListItem >\n                        <ListItemIcon>\n                            {icon}\n                        </ListItemIcon>\n                        <ListItemText primary={title} />\n                    </ListItem>\n                </DialogTitle>\n                <DialogContent dividers={true}>\n                    {innerContent}\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={handleClose} color=\"primary\">\n                        {closeText}\n                    </Button>\n                </DialogActions>\n            </Dialog>\n        </div>\n    );\n}\n","import React, { PureComponent } from \"react\";\nimport PropTypes from \"prop-types\";\nimport SyntaxHighlighter from 'react-syntax-highlighter';\nimport { docco } from 'react-syntax-highlighter/dist/cjs/styles/hljs';\n\nclass CodeBlock extends PureComponent {\n  static propTypes = {\n    value: PropTypes.string.isRequired,\n    language: PropTypes.string\n  };\n\n  static defaultProps = {\n    language: null\n  };\n\n  render() {\n    const { language, value } = this.props;\n    return (\n      <SyntaxHighlighter language={language} style={docco}>\n        {value}\n      </SyntaxHighlighter>\n    );\n  }\n}\n\nexport default CodeBlock;","import React from 'react';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport InfoIcon from '@material-ui/icons/Info';\nimport Popup from './Popup'\nimport Slide from '@material-ui/core/Slide';\nimport CodeBlock from \"./CodeBlock\";\n\n// import md with raw-loader webpack plugin, see react-app-rewired and config-overrides.js\n/* eslint import/no-webpack-loader-syntax: off */\nimport readme from '!raw-loader!../README.md'\n\nimport ReactMarkdown from 'react-markdown'\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n    return <Slide direction=\"down\" ref={ref} {...props} />;\n});\n\n\nexport default function HomePopup(props) {\n\n    // remove the line to the demo\n    const getText = () => {\n       return readme.replace(/^Demo(.*)$/mg,\"\")\n    }\n\n    const content = (\n    <DialogContentText>\n         <ReactMarkdown \n         source={getText()} \n         renderers={{ code: CodeBlock }}\n         />\n    </DialogContentText>);\n\n    return (\n        <Popup\n            title=\"About this 3D viewer\"\n            innerContent={content}\n            icon={<InfoIcon />}\n            closeText=\"Try it\"\n            transition = {Transition}\n            {...props}\n        />\n    )\n}\n","export default \"# Usage guide\\n\\nTwo things need to be set up on the SAME computer: the webapp and the camera control backend Flask app\\n\\n## Installation and starting\\n\\n### Webapp\\n\\nInstall **Node 14**. Might not work on later versions of Node\\n\\nOpen powershell/terminal in main folder (Shift + Right click) and type:\\n\\n- `npm install` (only need to do this once!)\\n- `npm start`\\n\\nThe webapp should be running at `localhost:3000` (or `127.0.0.1:3000`)\\n\\n### Flask backend\\n\\nOpen a **separate** powershell inside `camera_control` folder containing the Flask app\\n\\nInstall the necessary packages:\\n\\n````\\npip install flask\\npip install opencv-python\\npip install flask-cors\\npip install moviepy\\n````\\n\\n**Ensure all 4 cameras are connected before starting the Flask app.**\\n\\nStart the app with `python app.py`, The Flask app is running at `localhost:5001` (or `127.0.0.1:5001`)\\n\\n## Choosing cameras\\n\\nWe need to figure out which camera number is which. There are 4 links to check the cameras\\n\\n````\\n127.0.0.1:5001/video_feed/0\\n127.0.0.1:5001/video_feed/1\\n127.0.0.1:5001/video_feed/2\\n127.0.0.1:5001/video_feed/3\\n````\\n\\nGo through them and note down where the cameras are pointing. We will then edit the code to change the camera links accordingly\\n\\n## Edit code to pick right camera\\n\\n### Live streaming cams\\n\\nNote the url for the two live streaming cams. \\n\\nOpen the file `src/Samuel.js` in a code editor, and search for the two constants `camera1Ip` and `camera2Ip`. Change those into the correct urls. **Save and reload website.**\\n\\n### Photogrammetry cams\\n\\nNo longer need to change manually\\n\\n## Restart apps\\n\\nIf there is any issue, hard restart the app by pressing Ctrl + C on the powershell terminal running the app, then press Y. Rerun the app with `npm start` for webapp or `python app.py` for Flask backend\\n\";","import React, { useMemo, useState } from 'react';\nimport Popup from './Popup'\nimport OpenInBrowserIcon from '@material-ui/icons/OpenInBrowser';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport Button from '@material-ui/core/Button';\nimport { useDropzone } from 'react-dropzone';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport Paper from '@material-ui/core/Paper';\nimport TextField from '@material-ui/core/TextField';\nimport InputBase from '@material-ui/core/InputBase';\nimport Divider from '@material-ui/core/Divider';\nimport GetAppIcon from '@material-ui/icons/GetApp';\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        padding: '2px 4px',\n        display: 'flex',\n        alignItems: 'center',\n        width: \"100%\",\n    },\n    input: {\n        marginLeft: theme.spacing(1),\n        flex: 1,\n    },\n    iconButton: {\n        padding: 10,\n    },\n    divider: {\n        height: 28,\n        margin: 4,\n    },\n}));\n\nconst baseStyle = {\n    flex: 1,\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    padding: '20px',\n    borderWidth: 2,\n    borderRadius: 2,\n    borderColor: '#eeeeee',\n    borderStyle: 'dashed',\n    backgroundColor: '#fafafa',\n    color: '#bdbdbd',\n    outline: 'none',\n    transition: 'border .24s ease-in-out'\n};\n\n\nconst activeStyle = {\n    borderColor: '#2196f3'\n};\n\nconst acceptStyle = {\n    borderColor: '#00e676'\n};\n\nconst rejectStyle = {\n    borderColor: '#ff1744'\n};\n\nexport default function HomePopup(props) {\n    const classes = useStyles();\n    const { setFile } = props\n\n    const [url, setUrl] = useState(\"\");\n\n    const onDrop = (files) => {\n        if(files.length >0) loadFile(files[0]);\n    }\n\n    const { acceptedFiles,\n        getRootProps,\n        getInputProps,\n        isDragActive,\n        isDragAccept,\n        isDragReject,\n        open\n    } = useDropzone({ onDrop });\n\n    const style = useMemo(() => ({\n        ...baseStyle,\n        ...(isDragActive ? activeStyle : {}),\n        ...(isDragAccept ? acceptStyle : {}),\n        ...(isDragReject ? rejectStyle : {})\n    }), [\n        isDragActive,\n        isDragReject,\n        isDragAccept\n    ]);\n\n    const loadFile = (file) => {\n        props.setOpen(false)\n        setFile(file)\n    }\n\n    \n    const content = (\n        <DialogContent>\n            <section>\n                You can load your own file to test this viewer.\n                <h2>From URL</h2>\n                Please enter a URL to your 3D file or to a public OnShape document.\n                <div className={{ alignItems: 'center' }}>\n                    <Paper component=\"form\" className={classes.root}>\n                        <InputBase\n                            className={classes.input}\n                            placeholder=\"https://\"\n                            onChange={(event) => setUrl(event.target.value)}\n                            value={url}\n                        />\n                        <Divider className={classes.divider} orientation=\"vertical\" />\n                        <Button\n                            className={classes.iconButton}\n                            endIcon={<GetAppIcon />}\n                            onClick={() => loadFile(url)}\n                        >\n                            Load\n                        </Button>\n                    </Paper>\n\n                </div>\n            </section>\n            <section>\n                <h2>From disk</h2>\n                <div {...getRootProps({ style })}>\n                    <input {...getInputProps()} />\n                    <p>Drag 'n' drop a 3D file here</p>\n                    <Button\n                        type=\"button\"\n                        variant=\"contained\"\n                        onClick={open}>\n                        Browse...\n                    </Button>\n                </div>\n            </section>\n        </DialogContent>\n    );\n\n    return (\n        <Popup\n            title=\"Try open my files\"\n            innerContent={content}\n            icon={<OpenInBrowserIcon />}\n            closeText=\"Close\"\n            {...props}\n        />\n    )\n}\n","import React, { useMemo, useState } from 'react';\nimport Popup from './Popup'\nimport OpenInBrowserIcon from '@material-ui/icons/OpenInBrowser';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport Button from '@material-ui/core/Button';\nimport { RadioGroup, FormLabel, Radio, FormControlLabel } from '@material-ui/core'\nimport { useDropzone } from 'react-dropzone';\nimport { makeStyles } from '@material-ui/core/styles';\nimport './ImageUpload.css';\n\nimport * as THREE from 'three';\n\nimport { GLTFExporter } from 'three/examples/jsm/exporters/GLTFExporter.js';\nimport saveAs from 'file-saver';\nimport styled from 'styled-components'\n\nimport Paper from '@material-ui/core/Paper';\nimport TextField from '@material-ui/core/TextField';\nimport InputBase from '@material-ui/core/InputBase';\nimport Divider from '@material-ui/core/Divider';\nimport GetAppIcon from '@material-ui/icons/GetApp';\n\nconst scaleSize = {\n    x: 0.001,\n    y: 0.001,\n    z: 0.001,\n}\n\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        padding: '2px 4px',\n        display: 'flex',\n        alignItems: 'center',\n        width: \"100%\",\n    },\n    input: {\n        marginLeft: theme.spacing(1),\n        flex: 1,\n    },\n    iconButton: {\n        padding: 10,\n    },\n    divider: {\n        height: 28,\n        margin: 4,\n    },\n}));\n\nconst baseStyle = {\n    flex: 1,\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    padding: '20px',\n    borderWidth: 2,\n    borderRadius: 2,\n    borderColor: '#eeeeee',\n    borderStyle: 'dashed',\n    backgroundColor: '#fafafa',\n    color: '#bdbdbd',\n    outline: 'none',\n    transition: 'border .24s ease-in-out'\n};\n\n\nconst activeStyle = {\n    borderColor: '#2196f3'\n};\n\nconst acceptStyle = {\n    borderColor: '#00e676'\n};\n\nconst rejectStyle = {\n    borderColor: '#ff1744'\n};\n\nexport default function HomePopup(props) {\n    const classes = useStyles();\n    const [file, setFile] = useState(null);\n    const [width, setWidth] = useState(1);\n    const [height, setHeight] = useState(1);\n    const [depth, setDepth] = useState(1);\n    // 圆柱\n    const [radiusTop, setRadiusTop] = useState(1);\n    const [radius, setRadius] = useState(1);\n    const [radiusBottom, setRadiusBottom] = useState(1);\n    const [radialSegments, setRadialSegments] = useState(64);\n    const [heightSegments, setHeightSegments] = useState(1);\n    const [widthSegments, setWidthSegments] = useState(1);\n    const [thetaStart, setThetaStart] = useState(0);\n    const [thetaLength, setThetaLength] = useState(2 * Math.PI);\n    const [sphereWidthSegments, setSphereWidthSegments] = useState(32);\n    const [sphereHeightSegments, setSphereHeightSegments] = useState(16);\n    const [shapeActive, setShapeActive] = useState('0')\n    const handleSubmit = (event) => {\n        event.preventDefault();\n        if (file) {\n            // loadFile(file, width, height, depth);\n            loadModelFile()\n        }\n    };;\n\n    const [url, setUrl] = useState(\"\");\n\n\n    const onDrop = (acceptedFiles) => {\n        if (acceptedFiles.length > 0) {\n            setFile(acceptedFiles[0]);\n            // Here you can call loadFile or any other function to handle the file\n        }\n    };\n\n    const { acceptedFiles,\n        getRootProps,\n        getInputProps,\n        isDragActive,\n        isDragAccept,\n        isDragReject,\n        open\n    } = useDropzone({ onDrop });\n\n    const style = useMemo(() => ({\n        ...baseStyle,\n        ...(isDragActive ? activeStyle : {}),\n        ...(isDragAccept ? acceptStyle : {}),\n        ...(isDragReject ? rejectStyle : {})\n    }), [\n        isDragActive,\n        isDragReject,\n        isDragAccept\n    ]);\n\n    const loadFile = (file, userWidth, userHeight, userDepth) => {\n        props.setOpen(false)\n        const imageUrl = URL.createObjectURL(file);\n        const textureLoader = new THREE.TextureLoader();\n        // const texture = textureLoader.load('C:/Users/edge/Pictures/test_texture.jpg');\n        textureLoader.load(\n            // resource URL\n            imageUrl,\n\n            // onLoad callback\n            function (texture) {\n                // const material = new THREE.MeshBasicMaterial({\n                //     map: texture\n                // });\n                // const geometry = new THREE.BoxGeometry(1, 1, 1);\n                // const mesh = new THREE.Mesh(geometry, material);\n\n                const geometry = new THREE.BoxGeometry(parseFloat(userWidth), parseFloat(userHeight), parseFloat(userDepth));\n\n                // Define custom UV coordinates for the front face (face 4)\n                // const uvMapping = [1, 0, 1, 1, 0, 1, 0, 0]; // The order is top-right, top-left, bottom-left, bottom-right\n\n                // geometry.setAttribute('uv', new THREE.Float32BufferAttribute(uvMapping, 2));\n\n                const materials = [\n                    new THREE.MeshBasicMaterial({ color: 0xffffff }), // Right side\n                    new THREE.MeshBasicMaterial({ color: 0xffffff }), // Left side\n                    new THREE.MeshBasicMaterial({ color: 0xffffff }), // Top side\n                    new THREE.MeshBasicMaterial({ map: texture }),   // Front side\n                    new THREE.MeshBasicMaterial({ color: 0xffffff }), // Bottom side\n                    new THREE.MeshBasicMaterial({ color: 0xffffff })  // Back side\n                ];\n\n                const cube = new THREE.Mesh(geometry, materials);\n\n                const exporter = new GLTFExporter();\n                exporter.parse(cube, (gltf) => {\n                    // `gltf` contains the GLTF representation of your mesh\n\n                    // You can save the GLTF data to a file using the FileSaver library or send it to a server\n                    // Here's an example using FileSaver.js to save the GLTF to a file:\n                    const blob = new Blob([JSON.stringify(gltf)], { type: 'application/json' });\n                    saveAs(blob, 'your_model.gltf');\n                });\n            },\n\n            // onProgress callback currently not supported\n            undefined,\n\n            // onError callback\n            function (err) {\n                console.error('An error happened.');\n            }\n        );\n\n        // // Create a 3D box and apply the texture\n        // const geometry = new THREE.BoxGeometry(1, 1, 1);\n        // // const material = new THREE.MeshBasicMaterial({ map: texture });\n        // const mesh = new THREE.Mesh(geometry, material);\n        // // const geometry = new THREE.BoxGeometry(1, 1, 1);\n        // // const material = new THREE.MeshBasicMaterial({ color: 0x00ff00 });\n        // // const mesh = new THREE.Mesh(geometry, material);\n        // // const serializedMesh = cube.toJSON(); \n        // const exporter = new GLTFExporter();\n        // exporter.parse(mesh, (gltf) => {\n        //     // `gltf` contains the GLTF representation of your mesh\n\n        //     // You can save the GLTF data to a file using the FileSaver library or send it to a server\n        //     // Here's an example using FileSaver.js to save the GLTF to a file:\n        //     const blob = new Blob([JSON.stringify(gltf)], { type: 'application/json' });\n        //     saveAs(blob, 'your_model.gltf');\n        // });\n    }\n\n    const loadModelFile = () => {\n        props.setOpen(false)\n        console.log(file);\n        const imageUrl = URL.createObjectURL(file);\n        console.log(imageUrl);\n        const textureLoader = new THREE.TextureLoader();\n        const exporter = new GLTFExporter();\n        // const material = new THREE.MeshBasicMaterial({map:file})\n        textureLoader.load(\n            // resource URL\n            imageUrl,\n            // onLoad callback\n            function (texture) {\n                const materials = new THREE.MeshBasicMaterial({ map: texture })\n                switch (shapeActive) {\n                    case '0':\n                        const geometry = new THREE.BoxGeometry(parseFloat(width), parseFloat(height), parseFloat(depth));\n                        geometry.scale(scaleSize.x, scaleSize.y, scaleSize.z)\n                        const cube = new THREE.Mesh(geometry, materials);\n                        exporter.parse(cube, (gltf) => {\n                            // `gltf` contains the GLTF representation of your mesh\n\n                            // You can save the GLTF data to a file using the FileSaver library or send it to a server\n                            // Here's an example using FileSaver.js to save the GLTF to a file:\n                            const blob = new Blob([JSON.stringify(gltf)], { type: 'application/json' });\n                            saveAs(blob, 'your_model.gltf');\n                        });\n                        break;\n                    case '1':\n                        const cylinderGeometry = new THREE.CylinderGeometry(radiusTop, radiusBottom, height, radialSegments, heightSegments, false);\n                        cylinderGeometry.scale(scaleSize.x, scaleSize.y, scaleSize.z)\n                        const cylinder = new THREE.Mesh(cylinderGeometry, materials);\n                        exporter.parse(cylinder, (gltf) => {\n                            const blob = new Blob([JSON.stringify(gltf)], { type: 'application/json' });\n                            saveAs(blob, 'your_model.gltf');\n                        });\n                        break;\n                    case '2':\n                        const sphereGeometry = new THREE.SphereGeometry(radius, sphereWidthSegments, sphereHeightSegments);\n                        sphereGeometry.scale(scaleSize.x, scaleSize.y, scaleSize.z)\n                        const sphere = new THREE.Mesh(sphereGeometry, materials);\n                        exporter.parse(sphere, (gltf) => {\n                            const blob = new Blob([JSON.stringify(gltf)], { type: 'application/json' });\n                            saveAs(blob, 'your_model.gltf');\n                        });\n                        break;\n                    case '3':\n                        const coneGeometry = new THREE.ConeGeometry(radius, height, radialSegments);\n                        coneGeometry.scale(scaleSize.x, scaleSize.y, scaleSize.z)\n                        const cone = new THREE.Mesh(coneGeometry, materials);\n                        exporter.parse(cone, (gltf) => {\n                            const blob = new Blob([JSON.stringify(gltf)], { type: 'application/json' });\n                            saveAs(blob, 'your_model.gltf');\n                        });\n                        break;\n                }\n            },\n\n            // onProgress callback currently not supported\n            undefined,\n\n            // onError callback\n            function (err) {\n                console.error('An error happened.');\n            }\n        );\n    }\n\n    const changeShape = (event) => {\n        setShapeActive(event.target.value)\n    }\n\n    const rectForm = (\n        <><input type=\"number\" placeholder=\"Width(mm)\" onChange={e => setWidth(e.target.value)} /><input type=\"number\" placeholder=\"Height(mm)\" onChange={e => setHeight(e.target.value)} /><input type=\"number\" placeholder=\"Depth(mm)\" onChange={e => setDepth(e.target.value)} /></>\n    )\n    const cylinderForm = (\n        <><input type=\"number\" placeholder=\"Height(mm)\" onChange={e => setHeight(e.target.value)} /><input type=\"number\" placeholder=\"RadiusTop(mm)\" onChange={e => setRadiusTop(e.target.value)} /><input type=\"number\" placeholder=\"RadiusBottom(mm)\" onChange={e => setRadiusBottom(e.target.value)} /><input type=\"number\" placeholder=\"RadialSegments\" onChange={e => setRadialSegments(e.target.value)} /><input type=\"number\" placeholder=\"HeightSegments\" onChange={e => setHeightSegments(e.target.value)} /></>\n    )\n    const circularForm = (\n        <><input type=\"number\" placeholder=\"Height(mm)\" onChange={e => setHeight(e.target.value)} /><input type=\"number\" placeholder=\"Radius(mm)\" onChange={e => setRadius(e.target.value)} /><input type=\"number\" placeholder=\"RadialSegments\" onChange={e => setRadialSegments(e.target.value)} /></>\n    )\n    const globeForm = (\n        <><input type=\"number\" placeholder=\"Radius(mm)\" onChange={e => setRadius(e.target.value)} /><input type=\"number\" placeholder=\"WidthSegments\" onChange={e => setSphereWidthSegments(e.target.value)} /><input type=\"number\" placeholder=\"HeightSegments\" onChange={e => setSphereHeightSegments(e.target.value)} /></>\n    )\n    const renderForm = (type) => {\n        switch (type) {\n            case '0':\n                return rectForm\n            case '1':\n                return cylinderForm\n            case '2':\n                return globeForm\n            case '3':\n                return circularForm\n        }\n    }\n\n    const content = (\n        <DialogContent className=\"dialogContent\">\n            <section className=\"section\">\n                <h2>Create a 3D Object</h2>\n            </section>\n            <div className='choose-group'>\n                <FormLabel component=\"legend\">Shape</FormLabel>\n                &nbsp;&nbsp;\n                <RadioGroup className='radio-group' aria-label=\"shape\" name=\"shape\" value={shapeActive} onChange={changeShape}>\n                    <FormControlLabel value=\"0\" control={<Radio />} label=\"Rect\" />\n                    <FormControlLabel value=\"1\" control={<Radio />} label=\"Cylinder\" />\n                    <FormControlLabel value=\"2\" control={<Radio />} label=\"Globe\" />\n                    <FormControlLabel value=\"3\" control={<Radio />} label=\"Circular\" />\n                </RadioGroup>\n            </div>\n            <section className=\"section\">\n                <div className=\"form-container\">\n                    <form className='model-form' onSubmit={handleSubmit}>\n                        {\n                            renderForm(shapeActive)\n                        }\n                        <input type=\"file\" accept='image/*' onChange={e => setFile(e.target.files[0])} />\n                        <div className=\"button-container\">\n                            <button type=\"submit\" className='button-12'>Create 3D Object</button>\n                        </div>\n                    </form>\n                </div>\n            </section>\n        </DialogContent>\n    );\n\n\n\n\n\n    return (\n        <Popup\n            title=\"Upload image\"\n            innerContent={content}\n            icon={<OpenInBrowserIcon />}\n            closeText=\"Close\"\n            {...props}\n        />\n    )\n}\n\n","import React from 'react';\nimport Popup from './Popup'\nimport OpenInBrowserIcon from '@material-ui/icons/OpenInBrowser';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport { makeStyles } from '@material-ui/core/styles';\nimport GridList from '@material-ui/core/GridList';\nimport Link from '@material-ui/core/Link';\nimport GridListTile from '@material-ui/core/GridListTile';\nimport GridListTileBar from '@material-ui/core/GridListTileBar';\nimport ListSubheader from '@material-ui/core/ListSubheader';\nimport IconButton from '@material-ui/core/IconButton';\nimport OpenInNewIcon from '@material-ui/icons/OpenInNew';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n    flexWrap: 'wrap',\n    justifyContent: 'space-around',\n    overflow: 'hidden',\n    backgroundColor: theme.palette.background.paper,\n    margin: 0,\n    padding: 0\n  },\n  gridList: {\n  },\n  icon: {\n    color: 'rgba(255, 255, 255, 0.5)',\n  },\n  header: {\n    marginBottom: 20,\n  },\n  tile: {\n    cursor: \"pointer\",\n    opacity: 0.7,\n    '&:hover': {\n      opacity: 1\n    }\n  },\n}));\n\n\nexport default function FormatPopup(props) {\n  const classes = useStyles();\n\n  const onModelClick = (model) => {\n    props.setOpen(false);\n    if(model.file.startsWith(\"http\")) props.setFile(model.file);\n    else props.setFile(window.location  + model.file);\n  }\n\n  const content = props.format ? (\n    <div>\n      <div className={classes.header}>\n        {props.format.description}\n        <span>  <Link href={props.format.url} target=\"_blank\">Read more...<OpenInNewIcon fontSize=\"inherit\" /></Link></span>\n      </div>\n      <div className={classes.root}>\n\n        <GridList cellHeight={180} className={classes.gridList}>\n          {props.format.models.map((model) => (\n            <GridListTile\n              key={model.file}\n              onClick={() => onModelClick(model)}\n              className={classes.tile}\n            >\n              <img src={model.thumbnail} />\n              <GridListTileBar\n                title={model.name}\n                subtitle={<span>{model.size}</span>}\n                actionIcon={\n                  <Link href={model.file} target=\"_blank\">\n                    <IconButton\n                      className={classes.icon}>\n                      <OpenInNewIcon />\n                    </IconButton>\n                  </Link>\n                }\n              />\n            </GridListTile>\n          ))}\n        </GridList>\n      </div>\n    </div>\n  ) : null\n\n  return (\n    <Popup\n      innerContent={content}\n      icon={<img src={\"formats/\" + props.format?.id + \"/icon.png\"} />}\n      closeText=\"Close\"\n      title={props.format?.name + \" (*.\" + props.format?.extension + \")\"}\n      {...props}\n    />\n  )\n}\n","import React, { useEffect, useState } from 'react';\nimport clsx from 'clsx';\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\nimport Drawer from '@material-ui/core/Drawer';\nimport AppBar from '@material-ui/core/AppBar';\nimport Link from '@material-ui/core/Link';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport List from '@material-ui/core/List';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Typography from '@material-ui/core/Typography';\nimport Divider from '@material-ui/core/Divider';\nimport IconButton from '@material-ui/core/IconButton';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\nimport ChevronRightIcon from '@material-ui/icons/ChevronRight';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport OpenInBrowserIcon from '@material-ui/icons/OpenInBrowser';\nimport GitHubIcon from '@material-ui/icons/GitHub';\nimport InfoIcon from '@material-ui/icons/Info';\nimport HomePopup from './HomePopup'\nimport TryPopup from './TryPopup'\nimport ImageUploadPopup from './ImageUploadPopup'\nimport FormatPopup from './FormatPopup'\nimport { useSnackbar } from 'notistack';\nimport { Outlet, useLocation, useNavigate } from 'react-router-dom';\n\nimport './App.css'\n\n\n\n\nconst drawerWidth = 310;\n\nconst useStyles = makeStyles((theme) => ({\n  grow: {\n    flexGrow: 1,\n  },\n  root: {\n    display: 'flex',\n  },\n  appBar: {\n    zIndex: theme.zIndex.drawer + 2,\n    transition: theme.transitions.create(['width', 'margin'], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n  },\n  appBarShift: {\n    marginLeft: drawerWidth,\n    width: `calc(100% - ${drawerWidth}px)`,\n    transition: theme.transitions.create(['width', 'margin'], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n  },\n  menuButton: {\n    marginRight: 36,\n  },\n  hide: {\n    display: 'none',\n  },\n  drawer: {\n    width: drawerWidth,\n    flexShrink: 0,\n    whiteSpace: 'nowrap',\n  },\n  drawerOpen: {\n    width: drawerWidth,\n    transition: theme.transitions.create('width', {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n  },\n  drawerClose: {\n    transition: theme.transitions.create('width', {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n    overflowX: 'hidden',\n    width: theme.spacing(7) + 1,\n    [theme.breakpoints.up('sm')]: {\n      width: theme.spacing(9) + 1,\n    },\n  },\n  toolbar: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'flex-end',\n    padding: theme.spacing(0, 1),\n    // necessary for content to be below app bar\n    height: \"60px\",\n  },\n  content: {\n    flexGrow: 1,\n    padding: theme.spacing(1),\n    height: \"100vh\",\n    width: \"100%\"\n  },\n  innerContent: {\n    display: 'flex',\n    height: \"calc(100vh - 80px)\",\n    width: \"100%\"\n  },\n  sectionDesktop: {\n    display: 'none',\n    [theme.breakpoints.up('md')]: {\n      display: 'flex',\n    },\n  },\n  sectionMobile: {\n    display: 'flex',\n    [theme.breakpoints.up('md')]: {\n      display: 'none',\n    },\n  },\n  backdrop: {\n    zIndex: theme.zIndex.drawer + 1,\n    color: '#fff',\n  },\n}));\n\nexport default function App() {\n  const classes = useStyles();\n  const theme = useTheme();\n\n  /** Snack bars */\n  const { enqueueSnackbar } = useSnackbar();\n\n  const showSnackbar = (variant, message) => {\n    // variant could be success, error, warning, info, or default\n    enqueueSnackbar(message, { variant });\n  };\n\n\n  /** Home popup */\n  const shouldOpenHomePopup = () => {\n    if (typeof localStorage != 'undefined') {\n      return localStorage.getItem('homePopup') == null;\n    }\n    else return true;\n  }\n\n  const onCloseHomePopup = () => {\n    if (typeof localStorage != 'undefined') {\n      localStorage.setItem('homePopup', true);\n    }\n  }\n\n  const [homePopupOpened, sethomePopupOpened] = React.useState(shouldOpenHomePopup());\n\n  /** Try popup */\n  const [tryPopupOpened, setTryPopupOpened] = React.useState(false);\n\n  const openTryPopup = () => {\n    autoOpenDrawer();\n    setTryPopupOpened(true);\n  }\n\n  /** Image upload popup */\n  const [imagePopupOpened, setImagePopupOpened] = React.useState(false);\n\n  const openImagePopup = () => {\n    autoOpenDrawer();\n    setImagePopupOpened(true);\n  }\n\n  /** Format popup */\n  const [formatPopupOpened, setFormatPopupOpened] = React.useState(false);\n  const [openedFormat, setOpenedFormat] = React.useState(null);\n\n  /** Viewer */\n  const [file, setFile] = React.useState(window.location + \"formats/FBX/models/小可爱.fbx\");\n\n  const onViewerReady = () => {\n    setShowProgress(false)\n  }\n\n  const onViewerLoaded = () => {\n    showSnackbar(\"success\", \"Model loaded with success\")\n    setShowProgress(false)\n  }\n\n  const onViewerError = () => {\n    showSnackbar(\"error\", \"An error has occurred. If you are trying to load a model, could you please email it to me at rufus31415@gmail.com ?\")\n    setShowProgress(false)\n  }\n  const router = useNavigate()\n\n  /** left drawer */\n  const shouldOpenDrawer = () => window.innerWidth / window.innerHeight > 1;\n  const [open, setOpen] = React.useState(shouldOpenDrawer());\n  const autoOpenDrawer = () => { if (open) setOpen(shouldOpenDrawer()) };\n\n  const handleDrawerOpen = () => setOpen(true);\n\n  const handleDrawerClose = () => setOpen(false);\n\n\n  // these cameras are for live streaming and stuff\n  // IMPORTANT! CHANGE ACCORDINGLY\n  const camera1Ip = \"127.0.0.1:5001/video_feed/0\"; // operated by flask server\n  const camera2Ip = \"127.0.0.1:5001/video_feed/1\"; // operated by flask server\n  let [selectMenuIndex,setSelectMenuIndex] = useState('');\n\n  const handleCameraClick = () => {\n    const windowFeatures = \"menubar=yes,location=yes,resizable=yes,scrollbars=yes,status=yes\";\n    const newWindow = window.open(\"\", \"_blank\", windowFeatures);\n\n    newWindow.document.write(`\n      <html>\n        <head>\n          <title>Camera Streams</title>\n          <style>\n            body { margin: 0; display: flex; height: 100vh; }\n            iframe { width: 50%; border: none; }\n          </style>\n        </head>\n        <body>\n          <iframe src=\"http://${camera1Ip}\"></iframe>\n          <iframe src=\"http://${camera2Ip}\"></iframe>\n        </body>\n      </html>\n    `);\n\n    newWindow.document.close();\n  };\n\n  const handlePhotogrammetry = () => {\n    window.location.href = \"http://127.0.0.1:5001\"\n  }\n\n  const intoPage = (path) => {\n    // window.location.href = \"zoning\"\n    console.log(path);\n    router( '/' + path)\n  }\n\n  window.addEventListener(\"resize\", autoOpenDrawer, false);\n  window.addEventListener(\"orientationchange\", autoOpenDrawer, false);\n\n  /** Menu right */\n\n  const openFormatPopup = (format) => {\n    autoOpenDrawer();\n    setOpenedFormat(format);\n    setFormatPopupOpened(true);\n  }\n\n  const onClickInfo = () => sethomePopupOpened(true);\n\n  /** Progress */\n  const [showProgress, setShowProgress] = React.useState(true);\n\n  const location = useLocation()\n\n  useEffect(() => {\n    // console.log(location);\n    setSelectMenuIndex(location.pathname)\n  },[location])\n\n\n  return (\n\n    <div className={classes.root}>\n      <HomePopup\n        open={homePopupOpened}\n        setOpen={sethomePopupOpened}\n        onClose={onCloseHomePopup}\n      />\n      <TryPopup\n        open={tryPopupOpened}\n        setOpen={setTryPopupOpened}\n        setFile={setFile}\n      />\n      <ImageUploadPopup\n        open={imagePopupOpened}\n        setOpen={setImagePopupOpened}\n        setFile={setFile}\n      />\n      <FormatPopup\n        open={formatPopupOpened}\n        setOpen={setFormatPopupOpened}\n        format={openedFormat}\n        setFile={setFile}\n      />\n\n      <CssBaseline />\n      <AppBar\n        position=\"fixed\"\n        className={clsx(classes.appBar, {\n          [classes.appBarShift]: open,\n        })}\n      >\n        <Toolbar style={({backgroundColor:'#000'})}>\n          <IconButton\n            color=\"inherit\"\n            aria-label=\"open drawer\"\n            onClick={handleDrawerOpen}\n            edge=\"start\"\n            className={clsx(classes.menuButton, {\n              [classes.hide]: open,\n            })}\n          >\n            <MenuIcon />\n          </IconButton>\n          <Typography variant=\"h6\" noWrap>\n            <span style={({color:\"#fff\"})}>Singapore Art Museum</span> <span style={({color:'#e61563'})}>Digital Curatorial Platform</span>\n          </Typography>\n          <div className={classes.grow} />\n          <div className={classes.sectionDesktop}>\n          </div>\n          <div className={classes.sectionMobile}>\n            <Link href=\"https://github.com/rufus31415\" color=\"inherit\" target=\"_blank\">\n              <IconButton\n                aria-label=\"GitHub\"\n                aria-haspopup=\"true\"\n                color=\"inherit\"\n              >\n                <GitHubIcon />\n              </IconButton>\n            </Link>\n            <IconButton\n              aria-label=\"Info\"\n              aria-haspopup=\"true\"\n              // onClick={null}\n              color=\"inherit\"\n              onClick={onClickInfo}\n            >\n              <InfoIcon />\n            </IconButton>\n          </div>\n        </Toolbar>\n      </AppBar>\n      <Drawer\n        variant=\"permanent\"\n        className={clsx(classes.drawer, {\n          [classes.drawerOpen]: open,\n          [classes.drawerClose]: !open,\n        })}\n        classes={{\n          paper: clsx({\n            [classes.drawerOpen]: open,\n            [classes.drawerClose]: !open,\n          }),\n        }}\n      >\n        <div className={classes.toolbar}>\n          <IconButton onClick={handleDrawerClose}>\n            {theme.direction === 'rtl' ? <ChevronRightIcon /> : <ChevronLeftIcon />}\n          </IconButton>\n        </div>\n        <Divider />\n        <List>\n          <ListItem button\n            key=\"home\"\n            data-key=\"home\"\n            onClick={() => intoPage('home')}\n            selected={selectMenuIndex === '/home'}\n            classes={{selected:'selected'}}\n          >\n            <ListItemIcon><OpenInBrowserIcon /></ListItemIcon>\n            <ListItemText primary=\"Home\" />\n          </ListItem>\n          {/* <ListItem button\n            key=\"browser\"\n            classes={{selected:'selected'}}\n            selected={selectMenuIndex === 'browser'}\n            onClick={openTryPopup}\n          >\n            <ListItemIcon><OpenInBrowserIcon /></ListItemIcon>\n            <ListItemText primary=\"Try my files\" />\n          </ListItem> */}\n          <ListItem button\n            key=\"browserImage\"\n            classes={{selected:'selected'}}\n            selected={selectMenuIndex === 'browserImage'}\n            onClick={openImagePopup}\n          >\n            <ListItemIcon><OpenInBrowserIcon /></ListItemIcon>\n            <ListItemText primary=\"Creation of Bounding Shapes\" />\n          </ListItem>\n          <ListItem button\n            key=\"zoning\"\n            classes={{selected:'selected'}}\n            selected={selectMenuIndex === '/zoning'}\n            onClick={() => intoPage('zoning')}\n          >\n            <ListItemIcon><OpenInBrowserIcon /></ListItemIcon>\n            <ListItemText primary=\"Zoning Selection\" />\n          </ListItem>\n          <ListItem button\n            key=\"livestream\"\n            onClick={() => intoPage('samuel')}\n          >\n            <ListItemIcon><OpenInBrowserIcon /></ListItemIcon>\n            <ListItemText primary=\"SAMuel\" />\n          </ListItem>\n          <ListItem button\n            key=\"photogrammetry\"\n            onClick={handlePhotogrammetry}\n          >\n            <ListItemIcon><OpenInBrowserIcon /></ListItemIcon>\n            <ListItemText primary=\"Photogrammetry\" />\n          </ListItem>\n\n        </List>\n        <Divider />\n      </Drawer>\n      <main className={classes.content}>\n        <Outlet />\n      </main>\n    </div>\n  );\n}","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\"\nimport './index.css'\nexport const RectBox = ({ position, value, checked, currentValue, width, height }) => {\n  return (\n    <div onClick={() => checked(value)} style={({ top: position.top, left: position.left, width: width ? `${width}px` : '83px',height: height ? `${height}px` : '83px', })} className={currentValue.includes(value) ? 'box-wrapper active' : 'box-wrapper'}>\n      {/* <div></div>\n      <div></div>\n      <div></div>\n      <div></div> */}\n    </div>\n  )\n}","import React, { useEffect, useRef, useState } from 'react';\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\nimport './Zoning.css'\nimport layoutPic from './assets/images/gallery_layout.jpg'\nimport layoutG3Pic from './assets/images/gallery_g3_layout.png'\n// import layoutPic from './assets/images/gallery_layout.jpg'\nimport { RectBox } from './components/rect';\nimport { Button } from '@material-ui/core';\nimport { useNavigate } from 'react-router-dom';\n// import { useNavigate } from 'react-router-dom';\n// import * as THREE from 'three';\n// import Stats from 'three/examples/jsm/libs/stats.module';\n// import { OrbitControls } from 'three/examples/jsm/controls/OrbitControls';\n// // import { nodeFrame } from 'three/examples/jsm/renderers/webgl-legacy/nodes/WebGLNodes';\n// import { MeshBasicNodeMaterial, NodeFrame as nodeFrame, color, mix, positionLocal, vec4 } from 'three/examples/jsm/nodes/Nodes';\n// const Zoning = () => {\n\n//   const domRef = useRef()\n\n//   useEffect(() => {\n//     let container, stats;\n//     let camera, scene, renderer;\n\n//     async function init() {\n\n//       const { innerWidth, innerHeight } = window;\n\n//       container = document.createElement('div');\n//       domRef.current.appendChild(container);\n\n//       // CAMERA\n\n//       camera = new THREE.PerspectiveCamera(40, innerWidth / innerHeight, 1, 10000);\n//       camera.position.set(700, 200, - 500);\n\n//       // SCENE\n\n//       scene = new THREE.Scene();\n\n//       // LIGHTS\n\n//       const light = new THREE.DirectionalLight(0xd5deff);\n//       light.position.x = 300;\n//       light.position.y = 250;\n//       light.position.z = - 500;\n//       scene.add(light);\n\n//       // SKYDOME\n\n//       //  const topColor = new THREE.Color().copy(light.color);\n//       //   const bottomColor = new THREE.Color(0xffffff);\n//       //   const offset = 400;\n//       //   const exponent = 0.6;\n\n//       //   const h = positionLocal.add(offset).normalize().y;\n\n//       //   const skyMat = new MeshBasicNodeMaterial();\n//       //   skyMat.colorNode = vec4(mix(color(bottomColor), color(topColor), h.max(0.0).pow(exponent)), 1.0);\n//       //   skyMat.side = THREE.BackSide;\n\n//       //   const sky = new THREE.Mesh(new THREE.SphereGeometry(4000, 32, 15), skyMat);\n//       //   scene.add(sky);\n\n//       // RENDERER\n\n//       renderer = new THREE.WebGLRenderer({ antialias: true });\n//       renderer.setPixelRatio(window.devicePixelRatio);\n//       renderer.setSize(innerWidth, innerHeight);\n//       container.appendChild(renderer.domElement);\n\n//       // CONTROLS\n\n//       const controls = new OrbitControls(camera, renderer.domElement);\n//       controls.maxPolarAngle = 0.9 * Math.PI / 2;\n//       controls.enableZoom = false;\n\n//       // STATS\n\n//       stats = new Stats();\n//       container.appendChild(stats.dom);\n\n//       // MODEL\n\n//       // const loader = new THREE.ObjectLoader();\n//       // const object = await loader.loadAsync('models/json/lightmap/lightmap.json');\n//       // scene.add(object);\n\n//       //\n\n//       window.addEventListener('resize', onWindowResize);\n\n//     }\n\n//     function onWindowResize() {\n\n//       camera.aspect = window.innerWidth / window.innerHeight;\n//       camera.updateProjectionMatrix();\n\n//       renderer.setSize(window.innerWidth, window.innerHeight);\n\n//     }\n\n//     //\n\n//     function animate() {\n\n//       requestAnimationFrame(animate);\n\n//       // nodeFrame.update();\n\n//       renderer.render(scene, camera);\n//       // stats.update();\n\n//     }\n\n//     init().then(animate);\n//   }, [])\n\n//   return (\n//     <div ref={domRef}>\n//     </div>\n//   );\n// };\n\n// export default Zoning;\nconst useStyles = makeStyles((theme) => ({\n  toolbar: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'flex-end',\n    padding: theme.spacing(0, 1),\n    // necessary for content to be below app bar\n    minHeight: '60px'\n  }\n}));\n\nexport const ZoningPage = () => {\n\n  const classes = useStyles();\n  let [checkedModel, setCheckedModel] = useState([])\n  let [checkedModelTwo, setCheckedModelTwo] = useState([])\n  const router = useNavigate()\n  const checkedRect = (key) => {\n    let isHave = checkedModel.findIndex((item) => item === key)\n    if (isHave === -1) {\n      checkedModel.push(key)\n    } else {\n      checkedModel.splice(isHave, 1)\n    }\n    setCheckedModel([...checkedModel])\n  }\n  const checkedRectTwo = (key) => {\n    let isHave = checkedModelTwo.findIndex((item) => item === key)\n    if (isHave === -1) {\n      checkedModelTwo.push(key)\n    } else {\n      checkedModelTwo.splice(isHave, 1)\n    }\n    setCheckedModelTwo([...checkedModelTwo])\n  }\n  const confirmOne = () => {\n    let str = checkedModel.length > 0 ? checkedModel.join(',') : ''\n    router(`/modelDetail?params=${str}`)\n  }\n  const confirmTwo = () => {\n    let str = checkedModelTwo.length > 0 ? checkedModelTwo.join(',') : ''\n    router(`/modelDetail?params=${str}`)\n  }\n  return (\n    <div className='container'>\n      <div className={classes.toolbar} />\n      <div className=\"img-wrapper\" >\n        <img src={layoutPic} alt=\"\" style={({ width: '1000px', height: '700px' })} />\n        <RectBox currentValue={checkedModel} checked={(value) => checkedRect(value)} position={({ top: 202, left: 318 })} value=\"b7\" />\n        <RectBox currentValue={checkedModel} checked={(value) => checkedRect(value)} position={({ top: 202, left: 433 })} value=\"b8\" />\n        <RectBox currentValue={checkedModel} checked={(value) => checkedRect(value)} position={({ top: 202, left: 549 })} value=\"b9\" />\n        <RectBox currentValue={checkedModel} checked={(value) => checkedRect(value)} position={({ top: 309, left: 202 })} value=\"c6\" />\n        <RectBox currentValue={checkedModel} checked={(value) => checkedRect(value)} position={({ top: 309, left: 318 })} value=\"c7\" />\n        <RectBox currentValue={checkedModel} checked={(value) => checkedRect(value)} position={({ top: 309, left: 433 })} value=\"c8\" />\n        <RectBox currentValue={checkedModel} checked={(value) => checkedRect(value)} position={({ top: 309, left: 549 })} value=\"c9\" />\n        <RectBox currentValue={checkedModel} checked={(value) => checkedRect(value)} position={({ top: 421, left: 202 })} value=\"d6\" />\n        <RectBox currentValue={checkedModel} checked={(value) => checkedRect(value)} position={({ top: 421, left: 318 })} value=\"d7\" />\n        <RectBox currentValue={checkedModel} checked={(value) => checkedRect(value)} position={({ top: 421, left: 433 })} value=\"d8\" />\n        <RectBox currentValue={checkedModel} checked={(value) => checkedRect(value)} position={({ top: 421, left: 549 })} value=\"d9\" />\n\n        <RectBox currentValue={checkedModel} checked={(value) => checkedRect(value)} position={({ top: 312, left: 724 })} width={139} value=\"c11\" />\n        <RectBox currentValue={checkedModel} checked={(value) => checkedRect(value)} position={({ top: 418, left: 724 })} width={139} value=\"d11\" />\n      </div>\n      <div className=\"operate-bar\">\n        <Button onClick={() => confirmOne()} variant='contained'>CONFIRM</Button>\n      </div>\n      <div className=\"img-wrapper\" style={({ marginTop: '20px' })}>\n        <img src={layoutG3Pic} alt=\"\" style={({ width: '1000px', height: '700px' })} />\n        <RectBox currentValue={checkedModelTwo} checked={(value) => checkedRectTwo(value)} position={({ top: 168, left: 174 })} width={166} height={164} value=\"c1\" />\n        <RectBox currentValue={checkedModelTwo} checked={(value) => checkedRectTwo(value)} position={({ top: 168, left: 396 })} width={166} height={164} value=\"b1\" />\n        <RectBox currentValue={checkedModelTwo} checked={(value) => checkedRectTwo(value)} position={({ top: 168, left: 609 })} width={166} height={164} value=\"a1\" />\n        <RectBox currentValue={checkedModelTwo} checked={(value) => checkedRectTwo(value)} position={({ top: 396, left: 174 })} width={166} height={164} value=\"c2\" />\n        <RectBox currentValue={checkedModelTwo} checked={(value) => checkedRectTwo(value)} position={({ top: 396, left: 396 })} width={166} height={164} value=\"b2\" />\n        <RectBox currentValue={checkedModelTwo} checked={(value) => checkedRectTwo(value)} position={({ top: 396, left: 609 })} width={166} height={164} value=\"a2\" />\n      </div>\n      <div className=\"operate-bar\">\n        <Button onClick={() => confirmTwo()} variant='contained'>CONFIRM</Button>\n      </div>\n    </div>\n  )\n}\n","import React, { useEffect, useRef, useState } from 'react';\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\nimport './Samuel.css'\n\nconst useStyles = makeStyles((theme) => ({\n    toolbar: {\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'flex-end',\n        padding: theme.spacing(0, 1),\n        // necessary for content to be below app bar\n        minHeight: '60px'\n    },\n\n    // container: {\n    //     display: 'flex',\n    //     flexDirection: 'column',\n    //     height: '100vh',\n    // },\n\n    // cameraContainer: {\n    //     display: 'flex',\n    //     flexDirection: 'row',\n    //     justifyContent: 'center',\n    //     flexGrow: 1, // Cameras container takes remaining vertical space\n    // },\n    // iframe: {\n    //     width: '700px', // Adjust as needed to accommodate spacing\n    //     height: '100%',\n    //     border: 'none',\n    // },\n}));\n\nexport const SamuelPage = () => {\n    const classes = useStyles();\n\n    // these cameras are for live streaming and stuff\n    // IMPORTANT! CHANGE ACCORDINGLY\n    const camera1Ip = \"http://127.0.0.1:5001/video_feed/0\"; // operated by flask server\n    const camera2Ip = \"http://127.0.0.1:5001/video_feed/1\"; // operated by flask server\n\n    return (\n        <div className='container'>\n            <div className={classes.toolbar} />\n            <div style={{ maxWidth: 1280, width: \"100%\", alignItems: \"center\", justifyContent: 'center', display: 'flex' }}>\n                <h3 style={{ width: \"50%\", textAlign: \"center\" }}>Camera 1</h3>\n                <h3 style={{ width: \"50%\", textAlign: \"center\" }}>Camera 2</h3>\n            </div>\n            <div style={{ maxWidth: 1280, width: \"100%\", alignItems: \"center\", display: 'flex' }}>\n                <div style={{ width: \"50%\" }}>\n                    <img src={camera1Ip} style={{ border: \"none\" }} ></img>\n                </div>\n                <div style={{ width: \"50%\" }}>\n                    <img src={camera2Ip} style={{ border: \"none\" }} ></img>\n                </div>\n\n            </div>\n\n        </div>\n    )\n}\n","import React, { useEffect, useState } from 'react'\nimport Unity, { UnityContent } from \"react-unity-webgl\";\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst unityContent = new UnityContent(\n    \"Build/build.json\",\n    \"Build/UnityLoader.js\",\n    {\n        adjustOnWindowResize: true\n    }\n);\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        width: \"100%\",\n        height: \"100%\"\n    },\n    unityContent: {\n        background: \"white\",\n        width: \"100%\",\n        height: \"100%\",\n    },\n    paper: {\n        padding: theme.spacing(2),\n        textAlign: 'center',\n        color: theme.palette.text.secondary,\n    },\n}));\n\n\n\nexport default function Viewer(props) {\n    const classes = useStyles();\n    const [ready, setReady] = useState(false);\n    const [fileName, setFileName] = useState(null);\n\n    unityContent.on(\"Ready\", () => {\n        setReady(true)\n        loadFile();\n\n        if (typeof props.onReady == \"function\") props.onReady();\n    }\n    );\n\n    unityContent.on(\"OnLoaded\", () => {\n        try {\n            if (typeof props.onLoaded == \"function\") props.onLoaded();\n        }\n        catch{ }\n    }\n    );\n\n    unityContent.on(\"OnError\", () => {\n        try {\n            if (typeof props.onError == \"function\") props.onError();\n        }\n        catch{ }\n    }\n    );\n\n    useEffect(() => {\n        if (ready) loadFile()\n    }, [props.file]);\n\n    const loadFile = () => {\n        try {\n            if (props.file && typeof props.file == \"object\") {\n                var reader = new FileReader();\n                reader.onload = (function (file) {\n                    return function (e) {\n                        (window.filedata = window.filedata ? window.filedata : {})[file.name] = e.target.result;\n                        unityContent.send(\"root\", \"FileUpload\", file.name)\n                        setFileName(file.name);\n                    }\n                })(props.file);\n                reader.readAsArrayBuffer(props.file);\n            }\n            else if (typeof props.file == \"string\") {\n                unityContent.send(\"root\", \"Load\", JSON.stringify({ file: props.file }))\n                setFileName(props.file);\n            }\n            else {\n                unityContent.send(\"root\", \"Clear\");\n                setFileName(\"\");\n            }\n        }\n        catch (e) {\n            console.log(e);\n            if (typeof props.onError == \"function\") props.onError();\n        }\n\n    }\n\n    return (\n        <div className={classes.root} >\n            <Unity unityContent={unityContent} height=\"100%\" width=\"100%\" className={classes.unityContent} />\n        </div>\n    )\n}\n","const port = 3000;\n// export const baseUrl = `http://localhost:${port}/models`\nexport const baseUrl = `http://127.0.0.1:${port}/models` // 服务器上使用\n// export const homeUrl = `http://localhost:${port}/formats/FBX/models` \nexport const homeUrl = `http://127.0.0.1:${port}/formats/FBX/models` // 服务器上使用","import { makeStyles, useTheme } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Backdrop from '@material-ui/core/Backdrop';\nimport Viewer from './Viewer';\nimport React from 'react';\nimport { homeUrl } from './config/index'\nimport { useSnackbar } from 'notistack';\n\nconst drawerWidth = 310;\nconst useStyles = makeStyles((theme) => ({\n  grow: {\n    flexGrow: 1,\n  },\n  root: {\n    display: 'flex',\n  },\n  appBar: {\n    zIndex: theme.zIndex.drawer + 2,\n    transition: theme.transitions.create(['width', 'margin'], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n  },\n  appBarShift: {\n    marginLeft: drawerWidth,\n    width: `calc(100% - ${drawerWidth}px)`,\n    transition: theme.transitions.create(['width', 'margin'], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n  },\n  menuButton: {\n    marginRight: 36,\n  },\n  hide: {\n    display: 'none',\n  },\n  drawer: {\n    width: drawerWidth,\n    flexShrink: 0,\n    whiteSpace: 'nowrap',\n  },\n  drawerOpen: {\n    width: drawerWidth,\n    transition: theme.transitions.create('width', {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n  },\n  drawerClose: {\n    transition: theme.transitions.create('width', {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n    overflowX: 'hidden',\n    width: theme.spacing(7) + 1,\n    [theme.breakpoints.up('sm')]: {\n      width: theme.spacing(9) + 1,\n    },\n  },\n  toolbar: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'flex-end',\n    padding: theme.spacing(0, 1),\n    // necessary for content to be below app bar\n    height: \"60px\",\n  },\n  content: {\n    flexGrow: 1,\n    padding: theme.spacing(1),\n    height: \"100vh\",\n    width: \"100%\"\n  },\n  innerContent: {\n    display: 'flex',\n    height: \"calc(100vh - 80px)\",\n    width: \"100%\"\n  },\n  sectionDesktop: {\n    display: 'none',\n    [theme.breakpoints.up('md')]: {\n      display: 'flex',\n    },\n  },\n  sectionMobile: {\n    display: 'flex',\n    [theme.breakpoints.up('md')]: {\n      display: 'none',\n    },\n  },\n  backdrop: {\n    zIndex: theme.zIndex.drawer + 1,\n    color: '#fff',\n  },\n}));\nexport const HomePage = () => {\n  const { enqueueSnackbar } = useSnackbar();\n\n  const showSnackbar = (variant, message) => {\n    // variant could be success, error, warning, info, or default\n    enqueueSnackbar(message, { variant });\n  };\n  const classes = useStyles();\n  const [file, setFile] = React.useState(`${homeUrl}/小可爱.fbx`);\n  const [showProgress, setShowProgress] = React.useState(true);\n  const onViewerReady = () => {\n    setShowProgress(false)\n  }\n\n  const onViewerLoaded = () => {\n    showSnackbar(\"success\", \"Model loaded with success\")\n    setShowProgress(false)\n  }\n\n  const onViewerError = () => {\n    showSnackbar(\"error\", \"An error has occurred. If you are trying to load a model, could you please email it to me at rufus31415@gmail.com ?\")\n    setShowProgress(false)\n  }\n\n  return (\n    <div>\n      <div className={classes.toolbar} />\n      <Paper elevation={3} className={classes.innerContent}>\n        <Backdrop className={classes.backdrop} open={showProgress} >\n          <CircularProgress color=\"inherit\" />\n        </Backdrop>\n        <Viewer\n          file={file}\n          onReady={onViewerReady}\n          onLoaded={onViewerLoaded}\n          onError={onViewerError}\n        />\n      </Paper>\n    </div>\n  )\n}","import * as THREE from 'three'\nexport const InitCameraAndScene = function () {\n  this.camera = new THREE.PerspectiveCamera(\n    50, // 相机距离\n    window.innerWidth / window.innerHeight,\n    1,\n    20000\n    // 1000\n  );\n  this.camera.position.set(25, 20, 50);\n  this.camera.lookAt(0, 0, 0);\n\n  this.scene = new THREE.Scene();\n  this.scene.background = new THREE.Color(0xa0a0a0);\n  this.scene.fog = new THREE.Fog(0xffffff, 200, 2000);\n\n  // 前景灯\n  this.dirLight = new THREE.DirectionalLight(0xffffff);\n  this.dirLight.position.set(10, 200, 200);\n  this.dirLight.intensity = 1;\n  this.dirLight.castShadow = true;\n  this.dirLight.shadow.camera.top = 500;\n  this.dirLight.shadow.camera.bottom = -500;\n  this.dirLight.shadow.camera.left = -500;\n  this.dirLight.shadow.camera.right = 500;\n  this.dirLight.shadow.camera.near = 0.5;\n  this.dirLight.shadow.camera.far = 1000;\n  this.scene.add(this.dirLight);\n\n  // 后景灯\n  this.dirLightBack = new THREE.DirectionalLight(0xffffff);\n  this.dirLightBack.position.set(10, 200, -200);\n  this.dirLightBack.intensity = 1;\n  this.scene.add(this.dirLightBack);\n\n  //显示三维坐标系\n  const axis = new THREE.AxesHelper(300);\n  this.scene.add(axis);\n};","import * as THREE from 'three'\n\nexport const CreateFloor = function () {\n  this.mesh = new THREE.Mesh(\n    new THREE.PlaneGeometry(2000, 2000),\n    new THREE.MeshPhongMaterial({ color: 0xffffff, depthWrite: false })\n  );\n  this.mesh.rotation.x = -Math.PI / 2;\n  this.mesh.receiveShadow = true;\n  this.mesh.name = 'Floor'\n  this.scene.add(this.mesh);\n  const grid = new THREE.GridHelper(2000, 200, 0x000000, 0x000000);\n  grid.material.opacity = 0.2;\n  grid.material.transparent = true;\n  this.scene.add(grid);\n};","import * as THREE from \"three\";\nimport { OrbitControls } from \"three/examples/jsm/controls/OrbitControls\";\nimport { DragControls } from \"three/examples/jsm/controls/DragControls\";\nimport { TrackballControls } from \"three/examples/jsm/controls/TrackballControls\";\nimport { TransformControls } from \"three/examples/jsm/controls/TransformControls\";\n\nexport const CreateControls = function () {    \n  \n  this.renderer = new THREE.WebGLRenderer({ antialias: true });\n  this.renderer.setPixelRatio(window.devicePixelRatio);\n  this.renderer.setSize(window.innerWidth, window.innerHeight);\n  this.renderer.outputEncoding = THREE.sRGBEncoding;\n  // 阴影\n  this.renderer.shadowMap.enabled = true;\n  // 阴影 -- 清晰\n  this.renderer.shadowMap.type = THREE.PCFSoftShadowMap;\n  this.container.appendChild(this.renderer.domElement);\n\n  const that = this;\n  this.controls = new OrbitControls(this.camera, this.renderer.domElement);\n  this.transformControls = new TransformControls(this.camera, this.renderer.domElement)\n  this.transformControls.addEventListener('change', () => {\n    console.log('模型拖动')\n  })\n  this.transformControls.addEventListener('dragging-changed', function (event) {\n    that.controls.enabled = !event.value\n    console.log(that);\n    // this.physics.setEnabled(!event.value)\n  })\n  this.scene.add(this.transformControls)\n  this.trackballControls = new TrackballControls(this.camera, this.renderer.domElement)\n  this.dragControls = new DragControls(this.modelObject,this.camera, this.renderer.domElement)\n  this.dragControls.addEventListener('dragstart', function () {\n    that.controls.enabled = false\n    // console.log(that.controls);\n  })\n  this.dragControls.addEventListener('dragend', function () {\n    that.controls.enabled = true\n    \n    // console.log(that.controls);\n  })\n  // target为相机运动时，所注视的坐标\n  // this.controls.target.set(0, 100, 0);\n  // 相机平移\n  this.controls.enablePan = false;\n  this.controls.update();\n  // 相机旋转时开启阻尼\n  this.controls.enableDamping = true;\n  // 阻尼系数\n  // this.controls.dampingFactor = 1;\n  this.controls.autoRotate = false;\n};\n\n","import * as THREE from 'three'\nimport { EffectComposer } from \"three/examples/jsm/postprocessing/EffectComposer.js\"\nimport { RenderPass } from \"three/examples/jsm/postprocessing/RenderPass.js\"\nimport { OutlinePass } from \"three/examples/jsm/postprocessing/OutlinePass.js\"\nimport { OutputPass } from \"three/examples/jsm/postprocessing/OutputPass\"\nimport { ShaderPass } from \"three/examples/jsm/postprocessing/ShaderPass.js\"\nimport { FXAAShader } from \"three/examples/jsm/shaders/FXAAShader.js\"\nimport { SMAAPass } from \"three/examples/jsm/postprocessing/SMAAPass.js\"\nimport { UnrealBloomPass } from \"three/examples/jsm/postprocessing/UnrealBloomPass.js\"\n\nexport const CreateHeightLight = function () {\n  // 创建一个EffectComposer（效果组合器）对象，然后在该对象上添加后期处理通道。\n  this.composer = new EffectComposer(this.renderer)\n  // 新建一个场景通道  为了覆盖到原来的场景上\n  this.renderPass = new RenderPass(this.scene, this.camera)\n  this.composer.addPass(this.renderPass);\n  // 物体边缘发光通道\n  this.outlinePass = new OutlinePass(new THREE.Vector2( window.innerWidth, window.innerHeight), this.scene, this.camera)\n  this.outlinePass.visibleEdgeColor.set(parseInt(0x00ff00)) // 呼吸显示的颜色\n  this.outlinePass.hiddenEdgeColor = new THREE.Color(0, 0, 0) // 呼吸消失的颜色\n  this.composer.addPass(this.outlinePass)\n\n  // 解决高亮后环境变暗的问题\n  const outputPass = new OutputPass();\n  this.composer.addPass(outputPass);\n\n  // 自定义的着色器通道 作为参数\n  this.effectFXAA = new ShaderPass(FXAAShader)\n  this.effectFXAA.uniforms['resolution'].value.set(1 / window.innerWidth, 1 / window.innerHeight);\n  this.composer.addPass(this.effectFXAA)\n\n  console.log(this);\n}","import * as THREE from 'three'\nimport { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader'\nimport { baseUrl } from '../../config/index'\nexport const InitModel = function (paths = [], resourcePath = []) {\n  // const baseUrl = 'http://localhost:3000/models'\n  // const baseUrl = 'http://127.0.0.1:3000/models'\n  const baseModals = [\n    {\n      key: 'b7',\n      value: baseUrl + '/G1/G1_B7.glb'\n    },\n    {\n      key: 'b8',\n      value: baseUrl + '/G1/G1_B8.glb'\n    },\n    {\n      key: 'b9',\n      value: baseUrl + '/G1/G1_B9.glb'\n    },\n    {\n      key: 'c6',\n      value: baseUrl + '/G1/G1_C6.glb'\n    },\n    {\n      key: 'c7',\n      value: baseUrl + '/G1/G1_C7.glb'\n    },\n    {\n      key: 'c8',\n      value: baseUrl + '/G1/G1_C8.glb'\n    },\n    {\n      key: 'c9',\n      value: baseUrl + '/G1/G1_C9.glb'\n    },\n    {\n      key: 'd6',\n      value: baseUrl + '/G1/G1_D6.glb'\n    },\n    {\n      key: 'd7',\n      value: baseUrl + '/G1/G1_D7.glb'\n    },\n    {\n      key: 'd8',\n      value: baseUrl + '/G1/G1_D8.glb'\n    },\n    {\n      key: 'd9',\n      value: baseUrl + '/G1/G1_D9.glb'\n    },\n    {\n      key: 'c11',\n      value: baseUrl + '/G2/C11.glb'\n    },\n    {\n      key: 'd11',\n      value: baseUrl + '/G2/D11.glb'\n    },\n    {\n      key: 'a1',\n      value: baseUrl + '/G3/G3_A1.glb'\n    },\n    {\n      key: 'a2',\n      value: baseUrl + '/G3/G3_A2.glb'\n    },\n    {\n      key: 'b1',\n      value: baseUrl + '/G3/G3_B1.glb'\n    },\n    {\n      key: 'b2',\n      value: baseUrl + '/G3/G3_B2.glb'\n    },\n    {\n      key: 'c1',\n      value: baseUrl + '/G3/G3_C1.glb'\n    },\n    {\n      key: 'c2',\n      value: baseUrl + '/G3/G3_C2.glb'\n    }\n  ]\n  const modals = baseModals.filter(item => paths.includes(item.key))\n  const that = this;\n  modals.forEach(item => {\n    new GLTFLoader().load(item.value, function (glb) {\n      const model = glb.scene\n      model.name = 'base_modal'\n      switch (item.key) {\n        case 'b7':\n          model.position.set(12, 0, 0)\n          break;\n        case 'b8':\n          model.position.set(21.7, 0, 0)\n          break;\n        case 'b9':\n          model.position.set(30.8, 0, 0)\n          break;\n        case 'c6':\n          model.position.set(2.3, 0, 9)\n          break;\n        case 'c7':\n          model.position.set(12, 0, 9)\n          break;\n        case 'c8':\n          model.position.set(21.7, 0, 9)\n          break;\n        case 'c9':\n          model.position.set(30.8, 0, 9)\n          break;\n        case 'd6':\n          model.position.set(2.3, 0, 18)\n          break;\n        case 'd7':\n          model.position.set(12, 0, 18)\n          break;\n        case 'd8':\n          model.position.set(21.7, 0, 18)\n          break;\n        case 'd9':\n          model.position.set(30.9, 0, 18.3)\n          break;\n        case 'd11':\n          model.position.set(43, 0, 8)\n          break;\n        case 'c11':\n          model.position.set(43, 0, 8)\n          break;\n        case 'a1':\n          model.position.set(0, 0, 2.7)\n          break;\n        case 'a2':\n          model.position.set(10, 0, 3.2)\n          break;\n        case 'b1':\n          model.position.set(0, 0, 12)\n          break;\n        case 'b2':\n          model.position.set(10, 0, 12.5)\n          break;\n        case 'c1':\n          model.position.set(0, 0, 22.3)\n          break;\n        case 'c2':\n          model.position.set(10, 0, 21.8)\n          break;\n      }\n      that.scene.add(model)\n    })\n  })\n\n  // for (let index = 0; index < paths.length; index++) {\n  //   const path = paths[index];\n\n  // }\n};","import * as THREE from \"three\";\nimport { InitCameraAndScene } from \"./initCameraAndScene\";\nimport { CreateFloor } from \"./createFloor\";\nimport { CreateControls } from \"./createControls\";\nimport { CreateHeightLight } from './createHightLight'\nimport { InitModel } from \"./initModel\";\nimport { GLTFExporter } from 'three/examples/jsm/exporters/GLTFExporter'\nimport * as CANNON from \"cannon-es\";\n\nclass ModelDetail {\n  constructor({ modelPath, baseScene = [], resourcePath, panel, infoPanel, progress, getModalInfo, container }) {\n    this.camera = {};\n    this.scene = {};\n    this.renderer = {};\n    this.controls = {};\n    this.trackballControls = {};\n    this.checkedModal = {};\n    this.modelObject = [];\n    this.composer = {};\n    this.renderPass = {};\n    this.outlinePass = {};\n    this.effectFXAA = {};\n    // this.skeleton = {};\n    // this.mixer = {};\n    this.modelPath = modelPath;\n    this.resourcePath = resourcePath;\n    this.panel = panel; // '1' 渲染Panel 其他情况均不渲染\n    this.infoPanel = infoPanel; // 规则同上\n    this.container = container;\n    this.clock = new THREE.Clock();\n    this.progress = progress;\n    this.getModalInfo = getModalInfo;\n    this.modalType = '';\n    this.dirLight = {};\n    this.dragControls = {}\n    this.dirLightBack = {};\n    this.transformControls = {};\n    this.mesh = {};\n    this.baseScene = baseScene\n    this.world = {};\n    this.initSceneCamera = InitCameraAndScene;\n    this.createGround = CreateFloor;\n    // this.distinguishFileType = distinguishFileType;\n    this.webGLControls = CreateControls;\n    this.heightLight = CreateHeightLight;\n    this.InitModel = InitModel\n\n    // this.fbxLoadModel = fbxLoadModel;\n    // this.glbLoadModel = glbLoadModel;\n    // this.loaderFor3DM = loaderFor3DM;\n    // this.loaderFor3DS = loaderFor3DS;\n    // this.stlLoader = stlLoader;\n    // this.objLoader = objLoader;\n    // this.plyLoader = plyLoader;\n    // this.publicLoadCallback = publicLoadCallback;\n\n    // this.setScaleToFitSize = setScaleToFitSize;\n    // this.getFitScaleValue = getFitScaleValue;\n    // this.setPositionToFitGrid = setPositionToFitGrid;\n    // this.setAxisDirection = setAxisDirection;\n\n    // this.collectModalInfo = collectModalInfo;\n\n    // this.createPanel = createPanel;\n    // this.loadProgress = loadProgress;\n\n    // this.notFound = notFound;\n\n    this.onWindowResize = this.onWindowResize.bind(this);\n    this.init = this.init.bind(this);\n    this.animate = this.animate.bind(this);\n\n    // this.init();\n    // this.animate();\n  }\n\n  // createOperate(){\n  //   const div = document.createElement('div')\n  //   div.innerHTML = `<div>测试</div>`\n\n  // }\n  setCheckedModal(checkedModal) {\n    this.checkedModal = checkedModal\n  }\n\n  async init() {\n    console.log('class modal init--------------');\n    // this.container = document.createElement(\"div\");\n    // document.body.appendChild(this.container);\n\n    // 初始化场景和相机\n    this.initSceneCamera();\n\n    // 地板\n    this.createGround();\n\n    // 加载模型\n    // this.distinguishFileType();\n    // this.InitModel(['http://localhost:3000/models/G1/G1_B7.glb', 'http://localhost:3000/models/G1/G1_B8.glb'], [])\n    this.InitModel(this.baseScene, [])\n\n    this.webGLControls();\n\n    this.heightLight();\n\n    // this.world = new CANNON.World()\n\n    // const floorShape = new CANNON.Plane();\n    // const floorBody = new CANNON.Body({\n    //   // 设置为0时保证地面不动\n    //   mass: 0,\n    //   shape: floorShape,\n    //   // 需要与threejs中地面位置同步\n    //   position: new CANNON.Vec3(0, 0, 0),\n    // });\n    // floorBody.quaternion.setFromAxisAngle(new CANNON.Vec3(1, 0, 0), -Math.PI / 2);\n    // this.world.addBody(floorBody);\n\n    window.addEventListener(\"resize\", this.onWindowResize);\n  }\n\n  onWindowResize() {\n    this.camera.aspect = window.innerWidth / window.innerHeight;\n    this.camera.updateProjectionMatrix();\n    this.renderer.setSize(window.innerWidth, window.innerHeight);\n  }\n\n  animate() {\n    requestAnimationFrame(this.animate);\n    const delta = this.clock.getDelta();\n    if (this.mixer && this.mixer.update) this.mixer.update(delta);\n    this.renderer.render(this.scene, this.camera);\n    this.controls.update();\n    // this.world.step(1 / 60, delta, 3)\n    // this.checkedModal = this.checkedModal\n    // this.trackballControls.update()\n    // console.log(this);\n  }\n\n  /**\n   * \n   * @param {*} deg \n   * @param {('X'|'Y'|'Z')} type \n   */\n  rotate(deg = 1, type = 'X') {\n    // console.log(this.checkedModal,deg);\n    console.log(this.checkedModal);\n    switch (type) {\n      case 'X':\n        this.checkedModal.rotateX(deg)\n        break;\n      case 'Y':\n        this.checkedModal.rotateY(deg)\n        break;\n      case 'Z':\n        this.checkedModal.rotateZ(deg)\n        break;\n    }\n\n  }\n\n  exportModal() {\n    const exporter = new GLTFExporter();\n    const that = this;\n    const Floor = this.scene.getObjectByName('Floor')\n    if(Floor){\n      this.scene.remove(Floor)\n    }\n    // const floorIndex = this.scene.children.findIndex(item => item.name === 'Floor')\n    // const scene = Object.assign({},this.scene)\n    // scene.children.splice(floorIndex,1)\n    // console.log(scene);\n    exporter.parse(this.scene, function (result) {\n      const output = JSON.stringify(result, null, 2);\n      that.downloadJSON(output, 'scene.gltf');\n    });\n  }\n  downloadJSON(data, filename) {\n    const blob = new Blob([data], { type: 'application/json' });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = filename;\n    document.body.appendChild(a);\n    a.click();\n    document.body.removeChild(a);\n    URL.revokeObjectURL(url);\n  }\n  /**\n   * 缩放\n   * @param {*} x \n   * @param {*} y \n   * @param {*} z \n   */\n  zoom(x, y, z) {\n    console.log(this.checkedModal);\n    this.checkedModal.scale.set(x, y, z)\n  }\n  /**\n   * 平移\n   */\n  move({ x, y, z }) {\n    console.log(this.checkedModal);\n    this.checkedModal.translateX(x)\n    this.checkedModal.translateY(y)\n    this.checkedModal.translateZ(z)\n  }\n  /**\n   * 删除\n   */\n  remove() {\n    const isPass = window.confirm('删除后模型会消失!请谨慎操作')\n    if (isPass) {\n      this.transformControls.detach()\n      this.scene.remove(this.checkedModal)\n      console.log('remove --->', this.checkedModal, this.scene);\n    }\n  }\n  /**\n   * clone modal\n   */\n  clone() {\n    const modal = this.checkedModal.clone()\n    const x = this.checkedModal.position.x\n    const y = this.checkedModal.position.y\n    const z = this.checkedModal.position.z\n    modal.position.set(x, y + 6, z)\n    modal.children.forEach(item => {\n      item.parentGroup = modal\n      item.children.forEach(c => {\n        c.parentGroup = modal\n      })\n    })\n    this.scene.add(modal)\n    // console.log();\n    console.log('clone --->', modal);\n  }\n}\n\n// const progress = (percent) => {\n//   const loadingContainer = document.querySelector(\".loading-container\");\n//   if (percent === 'NaN%') return;\n//   if (percent === \"100.0%\") {\n//     loadingContainer.style.display = \"none\";\n//   } else {\n//     loadingContainer.style.display = \"block\";\n//     const loadingBar = document.querySelector(\".loading-bar\");\n//     const loadingTips = document.querySelector(\".loading-tips\");\n//     loadingBar.style.width = percent;\n//     loadingTips.innerHTML = percent;\n//   }\n// };\n\n// const getModalInfo = (info, isInfoPanel) => {\n//   if (isInfoPanel === '1') {\n//     const modalInfo = document.querySelector('.modalInfo');\n//     modalInfo.style.display = 'block';\n//     const {\n//       Animation,\n//       Ext,\n//       FileSize,\n//       HasUv,\n//       Texture,\n//       Triangles,\n//       Vertices,\n//     } = info;\n//     const animation = document.querySelector('.Animation');\n//     const extContainer = document.querySelector('.Ext');\n//     const fileSize = document.querySelector('.FileSize');\n//     const hasUV = document.querySelector('.HasUv');\n//     const textureContainer = document.querySelector('.Texture');\n//     const triangles = document.querySelector('.Triangles');\n//     const verticesContainer = document.querySelector('.Vertices');\n//     animation.innerHTML = Animation || '0';\n//     extContainer.innerHTML = Ext;\n//     fileSize.innerHTML = FileSize ? FileSize + 'MB' : '';\n//     hasUV.innerHTML = HasUv ? '有' : '无';\n//     textureContainer.innerHTML = Texture || '0';\n//     triangles.innerHTML = Triangles || '0';\n//     verticesContainer.innerHTML = Vertices || '0';\n//     window.sessionStorage.setItem('modal-info', JSON.stringify(info));\n//   }\n// };\n\n// const onload = function () {\n//   const { search } = window.location;\n//   let modelPath;\n//   let resourcePath;\n//   let panel = '0'; // 是否渲染 Panel\n//   let infoPanel = '0'; // 是否渲染 模型信息面板\n//   if (search) {\n//     const params = search.substring(1);\n//     const res = parse(params);\n//     modelPath = res.path;\n//     resourcePath = res.source;\n//     panel = res.panel;\n//     infoPanel = res.infoPanel;\n//   }\n//   // ?path=https://test-dam-feiyuantu.oss-cn-beijing.aliyuncs.com/vdam-php/three-dimensional/111129/D10451612143391333.FBX&panel=1&infoPanel=1\n//   new Simple3D({ modelPath, resourcePath, panel, infoPanel, progress, getModalInfo });\n// };\n\n// window.onload = onload;\n\nexport default ModelDetail\n","import { createSlice, configureStore } from '@reduxjs/toolkit'\n\nexport const checkedModalSlice = createSlice({\n  name: 'checkedModal',\n  initialState: {\n    value: null\n  },\n  reducers: {\n    setModal:(state,action) => {\n      state.value = action.payload\n    }\n  }\n})\n\nexport const store = configureStore({\n  reducer:checkedModalSlice.reducer\n})\n\n","import React, { useEffect, useState } from \"react\"\nimport ModelDetail from \"./modules/modelDetail\";\nimport './ModelDetail.css'\nimport { OBJLoader } from \"three/examples/jsm/loaders/OBJLoader\";\nimport * as THREE from 'three'\nimport { GLTFLoader } from \"three/examples/jsm/loaders/GLTFLoader\";\nimport Button from '@material-ui/core/Button';\nimport { useLocation } from 'react-router-dom'\nimport { store, checkedModalSlice } from \"./store\";\nimport * as CANNON from 'cannon-es'\nlet checkedModalValue = null;\nlet Modal = null;\nexport const ModelDetailPage = () => {\n\n  let [isExpand, setIsExpand] = useState(true)\n  let [tagIndex, setTagIndex] = useState(1)\n  let [modalNo, setModalNo] = useState(1)\n  let [test, setTest] = useState({ modal: null })\n  function useQuery() {\n    return new URLSearchParams(useLocation().search);\n  }\n  const query = useQuery()\n\n  const initModel = () => {\n    //   const { search } = window.location;\n    //   let modelPath;\n    //   let resourcePath;\n    //   let panel = '0'; // 是否渲染 Panel\n    //   let infoPanel = '0'; // 是否渲染 模型信息面板\n    //   if (search) {\n    //     const params = search.substring(1);\n    //     const res = parse(params);\n    //     modelPath = res.path;\n    //     resourcePath = res.source;\n    //     panel = res.panel;\n    //     infoPanel = res.infoPanel;\n    //   }\n    //   // ?path=https://test-dam-feiyuantu.oss-cn-beijing.aliyuncs.com/vdam-php/three-dimensional/111129/D10451612143391333.FBX&panel=1&infoPanel=1\n    new ModelDetail({ container: document.querySelector('#detail') });\n  }\n  const panelList = [\n    {\n      label: 'Rotate',\n      value: 1\n    },\n    {\n      label: 'Zoom',\n      value: 2\n    },\n    {\n      label: 'Move',\n      value: 3\n    },\n    {\n      label: 'Other',\n      value: 4\n    }\n  ]\n\n  useEffect(() => {\n    console.log('update view', tagIndex, checkedModalValue);\n    const params = query.get('params')\n    Modal = new ModelDetail({ container: document.querySelector('#detail'), baseScene: params.split(',') })\n    Modal.init()\n    Modal.animate()\n    checkedModal()\n  }, [])\n\n  const checkedModal = () => {\n    Modal.renderer.domElement.addEventListener('mousedown', function (event) {\n      // console.log(test.modal);\n      let mouse = new THREE.Vector2();\n      let raycaster = new THREE.Raycaster()\n      // Get mouse click location\n      mouse.x = (event.clientX / window.innerWidth) * 2 - 1;\n      mouse.y = -(event.clientY / window.innerHeight) * 2 + 1;\n      raycaster.setFromCamera(mouse, Modal.camera);\n      const intersects = raycaster.intersectObjects(Modal.scene.children); // get the model clicked, listed from close to far\n      const modal = intersects[0]?.object || null\n      const panel = document.querySelector('#ModalPanel')\n      console.log('click modal', modal);\n      if (modal.parentGroup && modal.parentGroup.name.includes('modal')) {\n        Modal.transformControls.attach(modal.parentGroup)\n        panel.style.visibility = 'visible'\n        checkedModalValue = modal.parentGroup\n        Modal.checkedModal = checkedModalValue\n      } else {\n        // Modal.transformControls.detach()\n        panel.style.visibility = 'hidden'\n      }\n    }, false)\n  }\n\n  const expand = (status) => {\n    console.log(status);\n    setIsExpand(status)\n    console.log(isExpand);\n  }\n\n  const uploadModal = () => {\n    const oInput = document.querySelector('#upload')\n    oInput.click()\n    oInput.addEventListener('change', function () {\n      const fileUrl = URL.createObjectURL(this.files[0])\n      // console.log(fileUrl);\n      // new OBJLoader().load(fileUrl, (obj) => {\n      //   console.log(obj);\n      //   obj.name = 'modal'\n      //   obj.position.set(30, 0, 0)\n      //   Modal.scene.add(obj)\n      //   Modal.modelObject.push(obj)\n      // })\n      // const x = window.innerWidth - 100\n      // const y = window.innerHeight - 100\n      new GLTFLoader().load(fileUrl, (obj) => {\n        obj.scene.name = 'modal'\n        // console.log(x,y);\n        obj.scene.position.set(0, 20, 20)\n        // const mesh = new THREE.Object3D()\n        // mesh.add(obj.scene)\n        obj.scene.children.forEach(item => {\n          item.parentGroup = obj.scene\n          item.children.forEach(c => {\n            c.parentGroup = obj.scene\n          })\n        })\n        Modal.scene.add(obj.scene)\n        // 创建模型的包围盒\n        // const boundingBox = new THREE.Box3().setFromObject(obj.scene);\n        // const size = boundingBox.getSize(new THREE.Vector3());\n        // const halfExtents = new CANNON.Vec3(size.x / 2, size.y / 2, size.z / 2);\n\n        // // 创建模型的物理体\n        // const body = new CANNON.Body({\n        //   mass: 1, // 质量\n        //   position: new CANNON.Vec3(obj.scene.position.x, obj.scene.position.y, obj.scene.position.z), // 位置\n        //   shape: new CANNON.Box(halfExtents) // 形状\n        // });\n        // Modal.world.addBody(body)\n        // setModalNo(++modalNo);\n        console.log('obj.scene ------->', obj.scene);\n        // Modal.modelObject.push(obj.scene)\n      })\n    })\n  }\n\n  const handleTag = (e) => {\n    let index = e.target.attributes['data-index']?.value\n    if (index) {\n      if (index === tagIndex) return;\n      setTagIndex(index++)\n    }\n  }\n\n  // const huanhan = () => {\n  //   const str = 'yyyyy\\nnnn'\n  //   return (<pre>{str}</pre>)\n  // }\n  const removeModal = () => {\n    Modal.remove()\n  }\n  const copyModal = () => {\n    Modal.clone()\n  }\n\n  const xzForm = () => (<div>\n    <div>\n      Rotate around X：<input type=\"number\" defaultValue={0} max={360} min={-360} name=\"angleX\" />&nbsp;&nbsp;degree\n    </div>\n    <div>\n      Rotate around Y：<input type=\"number\" defaultValue={0} max={360} min={-360} name=\"angleY\" />&nbsp;&nbsp;degree\n    </div>\n    <div>\n      Rotate around Z：<input type=\"number\" defaultValue={0} max={360} min={-360} name=\"angleZ\" />&nbsp;&nbsp;degree\n    </div>\n  </div>)\n  const sfForm = () => (<div>\n    <div>\n      X-axis：<input type=\"number\" defaultValue={1} step=\"0.01\" max={100} min={0} name=\"scaleX\" />&nbsp;&nbsp;ratio\n    </div>\n    <div>\n      Y-axis：<input type=\"number\" defaultValue={1} step=\"0.01\" max={100} min={0} name=\"scaleY\" />&nbsp;&nbsp;ratio\n    </div>\n    <div>\n      Z-axis：<input type=\"number\" defaultValue={1} step=\"0.01\" max={100} min={0} name=\"scaleZ\" />&nbsp;&nbsp;ratio\n    </div>\n  </div>)\n  const ydForm = () => (<div>\n    <div>\n      X-axis：<input type=\"number\" defaultValue={0} name=\"moveX\" />&nbsp;&nbsp;\n    </div>\n    <div>\n      Y-axis：<input type=\"number\" defaultValue={0} name=\"moveY\" />&nbsp;&nbsp;\n    </div>\n    <div>\n      Z-axis：<input type=\"number\" defaultValue={0} name=\"moveZ\" />&nbsp;&nbsp;\n    </div>\n  </div>)\n  const otherForm = () => (<div>\n    <div>\n      <Button onClick={() => removeModal()} style={({ backgroundColor: 'red', color: '#fff' })}>Delete</Button>\n    </div>\n    <div>\n      <Button onClick={() => copyModal()} style={({ backgroundColor: '#fff' })}>Clone</Button>\n    </div>\n  </div>)\n\n  const renderForm = () => {\n    switch (tagIndex) {\n      case 1:\n        return xzForm;\n        break;\n      case 2:\n        return sfForm;\n        break;\n      case 3:\n        return ydForm;\n        break;\n      case 4:\n        return otherForm;\n        break;\n    }\n  }\n\n  const handleModal = (e) => {\n    e.preventDefault()\n    const oForm = document.querySelector('#ModalPanelForm')\n    const data = new FormData(oForm)\n    console.log(Modal);\n    switch (tagIndex) {\n      case 1:\n        const degX = data.get('angleX')\n        const degY = data.get('angleY')\n        const degZ = data.get('angleZ')\n        Modal.rotate(degX, \"X\");\n        Modal.rotate(degY, \"Y\");\n        Modal.rotate(degZ, \"Z\");\n        oForm.reset()\n        break;\n      case 2:\n        const scaleX = data.get('scaleX')\n        const scaleY = data.get('scaleY')\n        const scaleZ = data.get('scaleZ')\n        Modal.zoom(scaleX, scaleY, scaleZ)\n        oForm.reset()\n        break;\n      case 3:\n        const moveX = data.get('moveX')\n        const moveY = data.get('moveY')\n        const moveZ = data.get('moveZ')\n        Modal.move({ x: moveX, y: moveY, z: moveZ })\n        oForm.reset()\n        break;\n    }\n  }\n\n  const exportModal = () => {\n    Modal.exportModal()\n  }\n\n  return (\n    <div id=\"detail\">\n      <div className=\"modal-operate-bar\" style={(!isExpand ? { animation: 'unexpand 1s both' } : { animation: 'expand 1s both' })}>\n        {test.value}{test.key}\n        <div onClick={() => expand(false)} className=\"modal-operate-bar_btn\" style={({ margin: '0 auto 0 0' })}>Close</div>\n        <div onClick={() => uploadModal()} className=\"modal-operate-bar_btn\">Upload Model</div>\n        <div onClick={() => exportModal()} className=\"modal-operate-bar_btn\">Export</div>\n      </div>\n      <div id=\"ModalPanel\" className=\"modal-panel\">\n        <div onClick={(event) => handleTag(event)} className=\"function-tag-list\">\n          {\n            panelList.map(item => {\n              if (item.value === tagIndex) {\n                return (\n                  <div key={item.value} data-index={item.value} className=\"function-tag-list_item function-tag-list_item--active\">{item.label}</div>\n                )\n              }\n              return (\n                <div key={item.value} data-index={item.value} className=\"function-tag-list_item\">{item.label}</div>\n              )\n            })\n          }\n\n        </div>\n        <form onSubmit={(event) => handleModal(event)} id=\"ModalPanelForm\">\n          {\n            renderForm()()\n          }\n\n          <div className=\"submit-btn\">\n            <Button type=\"submit\" style={({ background: '#fff' })}>Confirm</Button>\n          </div>\n          {/* <label htmlFor=\"angle\">\n            旋转角度:\n            \n          </label> */}\n        </form>\n      </div>\n      <div onClick={() => expand(true)} style={(isExpand ? { display: 'none' } : { animation: 'large 1s 1s both' })} className=\"modal-operate-bar--unexpand\">Expand</div>\n      <input accept=\".gltf,.glb\" id=\"upload\" type=\"file\" style={({ visibility: 'hidden', width: 0, height: 0, position: 'fixed' })}></input>\n    </div>\n  )\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux'\nimport './index.css';\nimport App from './App';\n// import Wificamera from './Wificamera';\nimport * as serviceWorker from './serviceWorker';\nimport { SnackbarProvider } from 'notistack';\nimport { BrowserRouter as Router, Route, Routes } from 'react-router-dom';\nimport { ZoningPage } from './Zoning.jsx';\nimport { SamuelPage } from './Samuel.js';\nimport { HomePage } from './Home';\nimport { ModelDetailPage } from './ModelDetail.jsx';\nimport {store} from './store/index.js'\nimport testPsyModal from './testPsyModal.jsx';\nimport { Redirect } from 'react-router';\nReactDOM.render(\n\n  <React.StrictMode>\n    <SnackbarProvider\n      maxSnack={3}\n      anchorOrigin={{\n        vertical: 'bottom',\n        horizontal: 'center',\n      }}\n    >\n      <Provider store={store}>\n        <Router>\n          <Routes>\n            <Route path='/' Component={App}>\n              <Route path='home' Component={HomePage}/>\n              <Route path='zoning' Component={ZoningPage}/>\n              <Route path='samuel' Component={SamuelPage}/>\n            </Route>\n            {/* <Redirect exact from=\"/\" to=\"home\" /> */}\n            <Route path='/modelDetail' Component={ModelDetailPage} />\n            <Route path='/test' Component={testPsyModal} />\n          </Routes>\n        </Router>\n      </Provider>\n    </SnackbarProvider>\n  </React.StrictMode>\n\n  ,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","import * as React from 'react'\nimport * as THREE from 'three'\n\nlet scene = {}\nlet camera = {} \nlet renderer = {}\nconst initScena = () => {}\n\nexport default function(){\n  return (\n    <div>hello</div>\n  )\n}"],"sourceRoot":""}